<!-- music/templates/music/music_form.html -->

{% extends 'base.html' %}

{% block content %}

<h1>
  {% if is_create %}
    Add Music
  {% else %}
    Edit Music: {{ music.title }}
  {% endif %}
</h1>

<form method="post" novalidate>
  {% csrf_token %}

  {% if form.non_field_errors %}
    <div class="form-errors">
      {{ form.non_field_errors }}
    </div>
  {% endif %}

  <fieldset>
    <legend>Basic Information</legend>

    <div class="form-row">
      {{ form.title.label_tag }}
      {{ form.title }}
      {{ form.title.errors }}
    </div>

    <div class="form-row">
      {{ form.year_composed.label_tag }}
      {{ form.year_composed }}
      {{ form.year_composed.errors }}
    </div>

    <div class="form-row">
      {{ form.difficulty.label_tag }}
      {{ form.difficulty }}
      {{ form.difficulty.errors }}
    </div>

    <div class="form-row">
      {{ form.duration.label_tag }}
      {{ form.duration }}
      {{ form.duration.errors }}
    </div>
  </fieldset>

  <fieldset>
    <legend>Library Location</legend>

    <div class="form-row">
      {{ form.location_drawer.label_tag }}
      {{ form.location_drawer }}
      {{ form.location_drawer.errors }}
    </div>

    <div class="form-row">
      {{ form.location_number.label_tag }}
      {{ form.location_number }}
      {{ form.location_number.errors }}
    </div>
  </fieldset>

  <fieldset>
    <legend>Flags</legend>

    <div class="form-row">
      {{ form.score_missing }}
      {{ form.score_missing.label_tag }}
      {{ form.score_missing.errors }}
    </div>

    <div class="form-row">
      {{ form.needs_review }}
      {{ form.needs_review.label_tag }}
      {{ form.needs_review.errors }}
    </div>

    <div class="form-row">
      {{ form.is_active }}
      {{ form.is_active.label_tag }}
      {{ form.is_active.errors }}
    </div>
  </fieldset>

  <fieldset>
    <legend>Notes</legend>

    <div class="form-row">
      {{ form.notes.label_tag }}
      {{ form.notes }}
      {{ form.notes.errors }}
    </div>
  </fieldset>

  <div class="form-actions">
    <button type="submit">
      {% if is_create %}
      Create
      {% else %}
      Save changes
      {% endif %}
    </button>

    {% if not is_create %}
     <a href="{% url 'music:music_detail' music.pk %}">Cancel</a>
    {% else %}
     <a href="{% url 'music:music_list' %}">Cancel</a>
    {% endif %}
  </div>

</form>

{% endblock %}
